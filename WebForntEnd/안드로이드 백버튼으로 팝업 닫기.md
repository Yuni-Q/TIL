# 안드로이드 백버튼으로 팝업 닫기

- 이 요구 사항을 받았을 때 안될 거라고 생각했다. 하지만 어느 정도 동작하게 만들 수 있는 방법이 있다. 자바스크립트에서 안드로이드 백버튼 이벤트를 받을 수 있다면 좋겠지만, 그런 건 없었다.
- SPA는 화면 라우팅과 관련된 모든 이벤트를 받을 수 있고 자바스크립트로 원하는 화면을 렌더링할 수 있다. 안드로이드 백버튼은 브라우저 입장에서 뒤로가기 이벤트이며 팝업이 보일 때 뒤로 가기 이벤트를 받으면 팝업을 닫으면 된다. 첫 화면에서는 뒤로 가기 이벤트를 받을 수 없다는 치명적인 단점이 있다. 이를 굳이 해결하자면, 첫 화면에서 팝업이 뜨는 경우에는 같은 url을 history에 push 하는 방법이 있다. Next.js의 router.beforePopState 함수와 window 객체의 history.go 함수를 잘 활용하면 안드로이드 백버튼으로 팝업 닫기 기능을 구현할 수 있다
