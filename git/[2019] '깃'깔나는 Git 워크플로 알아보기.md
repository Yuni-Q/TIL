# [2019] '깃'깔나는 Git 워크플로 알아보기

## Git flow

### main branch

- 항상 존재
- master : 배포된 코드를 모아놓은 브랜치로 각 브랜치를 태그로 표시해 두었습니다.
- develop : 다음 버전 개발을 위한 브랜치로 개발이 완료되면 일련의 과정을 거쳐 마스터 브랜치로 머지 됩니다.

### 서포팅 브랜치

- 병렬 업무가 가능
- 필요할 때 생성, 역할을 완료하면 삭제
- feature : 하나의 기능을 개발 하기 위한 브랜치. develop에서 생성하며 작업이 마치면 develop에 merge한다. merge 할때 merge commit을 생성하며 히스토리를 특정 기능단위로 묶는다.
- release : 소프트웨어 배포를 하기 위해 준비하는 브랜치. 버전명 등 메타데이터 변경 소소한 버그 수정. develop에서 생성하며, develop과 master에 각각 merge해 줍니다. tag를 이용해 버전을 명시해 줍니다.
- hotfix : 배포 버전의 문제를 고치는 브랜치. master에서 생성. develop과 master에 각각 merge해 줍니다.

## GitHub flow

- Git flow는 대부분의 케이스에서 너무 복잡
- master는 항상 스테이블해야한다. 언제 배포해도 상관없고 해당 커밋 기반으로 브랜치를 만들어도 문제가 없어야 한다.
- 새로운 기능은 토픽 브랜치를 마스터 브랜치에서 만든다. 기능을 설명하는 명확한 이름을 정하고 완료되지 않아도 서버로 푸시한다. 언제든 풀 리퀘스트를 보낸다. 토픽 브랜치를 배포한다. CI빌드 통과, 배포락 체크, 마스터 브랜치 최신 커밋이 존재하는지 확인해야한다. 이상이 없다면 마스터에 머지한다.
- Pull Request 기능의 사용.
- 구성원 간의 정보의 공유
- pre-merge 테스트
- 매우 빈번한 배포 주기
- 배포 게이트 키퍼 업음

## GitLab flow

- Git flow는 너무 복잡
- GitHub flow는 너무 간다
- master를 기본으로 환경 별, 릴리즈별 브랜치
- 지속적인 배포가 어려울 때. GitHub flow 브랜치는 머지하면 배포된다. production 브랜치를 만들면 된다.
- 환경별 배포가 필요할 때.
- 릴리즈 소프트웨어 일 때.
- 개발이 완료됮 ㅣ않았더라도 중간 결과를 팀내에 공유하라
  - 몇 시간 이상 기능 개발 중이라면 Merge/Pull request를 열어 피드백 받고 싶은 사람을 @멘션해서 피드백을 받아라
- 항상 이슈 트래커 시스템에서 이슈를 생성하라
  - 개발은 항상 코드 변경에 목표를 설명하는 이슈에서 시작
  - 코드에 대하 정보를 팀 내 공유 하는데 도움
  - Feature 브랜치 변경사항을 작게 유지하는데 도움
- Commit을 자주하고 push도 자주하라
  - 작업을 개별 commit으로 나누면 나중에 코드를 봤을 때 컨텍스트 이해 도움
  - 완료되지 않았어도 Merge/Pull request를 통해 논의와 피드백을 받으면 코드 향상에 도움
- Merge 전에 테스트하라
  - 잘못된 코드가 master에 merge되어 깨지기 전에 예방 가능
- 좀더 현실적인 상황에 대한 브랜치 대안
- 구성원 간의 정보의 공유
- pre-merge 테스트
