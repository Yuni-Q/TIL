# npm 동작 방식

- npm은 node의 모듈을 관리해주는 패키지 매니저입니다.
- node.js를 설치하면 내장(built in)되어 있습니다.
- npm -v를 통해 버전을 확인할 수 있습니다.
- npm install 명령으로 외부 모듈 패키지를 설치합니다.
- -g 옵션을 통해 글로벌로 설치할 수 있습니다.
  - 글로벌 설치는 권장 되지 않으면 npx를 통해 글로벌로 설치하지 않고 사용하는 방법도 있습니다.
- npm으로 패키지 설치가 완료된 경우 [프로젝트경로]\[node_modules]\[패키지명]으로 모듈 패키지가 설치됩니다.
- 만약 모듈이 필요 없어져서 삭제하는경우 npm uninstall 명령으로 삭제할 수 있습니다. 
- npm update을 통해 모듈 업데이트 할 수 있습니다.
- 프로젝트 npm inatall로 외부 모듈 설치시 문제점이 있습니다. 지금처럼 프로젝트 경로에서 npm install을 이용하여 패키지를 설치하는 경우 해당 프로젝트 이에외는 사용할 수 없다는 문제점이 있습니다. 만약 여러 프로젝트에서 동일한 외부 모듈을 사용하는 경우 각각의 프로젝트마다 npm install을 해주어야 하는 번거로움이 생기게 됩니다. 이러한 문제를 해결하기 위한 방법으로는 외부모듈이 설치되는 node_modules 디렉터리를 프로젝트들의 상위 디렉터리로 옮기는 방법이 있습니다.
node.js는 프로젝트가 실행될 때 필요한 모듈이 현재 프로젝트의 node_modules 디렉터리에 존재하는지 확인 후 없으면 상위 디렉터리의 node_modules 안에 디렉터리가 있는지 검사하기 때문입니다. 만약 상위에도 존재하지 않는 경우 더 상위 디렉터리의 node_modules을 검사하는식으로 동작합니다.
- 필요한 패키지들의 목록을 파일로 정리해놓고 목록 파일을 이용하여 단 한번의 명령어로 필요한 패키지들을 모두 설치할 수 있습니다. 이러한 패키지 정의 파일을 package.json 파일이라고 합니다. npm init 명령어를 통해 생성 할 수 있습니다.
- npm run 명령어를 통해 package.json에 있는 script 명령어를 실행 할 수 있습니다.
- npm ci는 package-lock.json 등의 lockfile을 기준으로 package를 설치하게 되어 있으므로, 규모가 큰 조직에서 package에 대한 lockfile이 승인되면, npm ci를 활용하여 package-lock.json에 명시되어 있는 패키지를 설치하도록 합니다.