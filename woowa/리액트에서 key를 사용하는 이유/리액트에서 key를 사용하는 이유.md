# 리액트에서 key를 사용하는 이유

- 리액트는 배열을 렌더링 할 때 값을 통하여 업데이트 성능을 최적화 합니다.
- key 를 배열의 index 값으로 사용하는게 아니라, 우리가 데이터를 추가 할 때마다 고정적인 고유 값을 부여해주면, 리액트가 변화를 감지해내고 업데이트를 하게 될 떄 조금 더 똑똑하게 처리 할 수 있게됩니다.
- key 값은 언제나 고유해야 합니다.

- React가 항목 목록에서 변경 사항을 렌더링해야하는 경우 React는 동시에 두 어린이 목록을 반복하고 차이가 있을 때마다 변형을 생성합니다. 자식에 대해 설정된 키가 없으면 React는 각 자식을 검사합니다. 그렇지 않으면 React가 키를 비교하여 목록에 추가되거나 제거 된 키를 확인합니다.

- 키는 React가 어떤 항목이 변경, 추가 또는 제거되었는지 식별하는 데 도움이됩니다. 배열 내부의 요소에 키를 지정하여 요소를 안정적으로 식별해야합니다.
- 키를 선택하는 가장 좋은 방법은 형제 중에서 목록 항목을 고유하게 식별하는 문자열을 사용하는 것입니다. 대부분의 경우 데이터의 ID를 키로 사용합니다.
- 렌더링 된 항목에 대해 안정적인 ID가없는 경우 최후의 수단으로 항목 색인을 키로 사용할 수 있습니다.
- 항목 순서가 변경 될 수있는 경우 키에 색인을 사용하지 않는 것이 좋습니다. 이는 성능에 부정적인 영향을 줄 수 있으며 구성 요소 상태에 문제를 일으킬 수 있습니다. 인덱스를 키로 사용했을 때의 부정적인 영향에 대한 자세한 설명은 Robin Pokorny의 기사를 확인하십시오 . 항목을 나열하기 위해 명시 적 키를 지정하지 않으면 React는 기본적으로 색인을 키로 사용합니다.

- 기본적으로 DOM 노드의 자식에 대해 반복 할 때 React는 두 자식 목록을 동시에 반복하고 차이가있을 때마다 돌연변이를 생성합니다.
- 이 문제를 해결하기 위해 React는 key속성을 지원 합니다. 자식에 키가 있으면 React는이 키를 사용하여 원래 트리의 자식을 후속 트리의 자식과 일치시킵니다.
- 실제로 키를 찾는 것은 일반적으로 어렵지 않습니다. 표시하려는 요소에는 이미 고유 한 ID가있을 수 있으므로 데이터에서 키를 가져올 수 있습니다.
- 색인을 키로 사용하면 재정렬로 인해 구성 요소 상태에 문제가 발생할 수도 있습니다. 구성 요소 인스턴스는 해당 키를 기반으로 업데이트 및 재사용됩니다. 키가 색인 인 경우 항목을 이동하면 변경됩니다. 결과적으로 제어되지 않은 입력과 같은 구성 요소 상태가 예기치 않게 혼합되고 업데이트 될 수 있습니다.
