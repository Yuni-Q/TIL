# RxJS

- RxJS(ReactiveX for JavaScript)는 마이크로소프트 사가 만든 ReactiveX의 자바스크립트 버전 라이브러리 입니다.
- ReactiveX는 2009년 Reactive Extentions이라는 이름으로 .Net과 Siverlight 버전으로 최초 공개되었습니다. 이후 에릭 마이어에 의해 이 개념이 구체화되면서 ReactiveX의가 탄생하게 되었습니다.
- RxJS가 비동기 상황에 대한 궁극적인 솔루션이라고 이야기하는 사람도 있습니다. RxJS가 일정 부분 이 부분을 해결해 주기도 합니다. 하지마 이는 장님이 코끼리 코를 만지며 뱀 같다고 하는 말과 같습니다.
- RxJS는 입력 오류, 상태 오류, 로직 오류로 인해 발생하는 문제를 효과적으로 처리하기 위한 고민의 산출문 입니다.
- RxJS는 오류가 발생하지 않는 애플리케이션을 만들기 위해 일관된 방식으로 안전하게 데이터 흐름을 처리하도록 도와주는 라이브러리 입니다.
- 범용 데이터 흐름 제어 솔루션인 셈입니다.

## 1. 입력 데이터의 오류

- Observalble은 시간을 인덱슬 둔 컬렉션을 추상화한 클래스 입니다. 이 클래스는 동기나 비동기의 방식으로 전달된 데이터를 하나의 컬렉션으로 바라볼 수 있게 해 줍니다.
- 모든 데이터는 Observalble 인스턴스로 만들 수 있습니다.
  - 키보드를 눌러서 입력된 데이터
  - 마우스를 이동하거나 클릭해서 입력된 데이터
  - Ajax/fetch 요청을 통해 얻은 데이터
  - Web socket을 통해 전달된 데이터
  - Messages를 통해 전달된 데이터
- Observalble 객체의 변수명은 관용적으로 접미사로 $를 붙입니다.

### 정리

- RxJS는 시간을 인덱스로 둔 컬렉션으로 추상화시킴으로써 동기와 비동기 입력 데이터를 하나의 컬렉션으로 생각할 수 있게 했습니다.
- 이를 스트림(stream)이라 부르며 그 구현체가 Observable 클래스 입니다.
- Observable은 모든 데이터를 표현할 수 있는 일원화된 데이터 구조입니다.
- Observable을 사용하면 개발자는 더이상 데이터가 어떤 형태로 전달되는지에 대해 고민할 필요가 없습니디.

## 2. 상태 전파 문제

- RxJS도 상태 변화에 대한 문제를 옵저버 패턴을 기반으로 해결하려고 하였다.
- RxJS에서 전달되는 데이터는 모두 Observable 형태로 반환된다. Observable은 구독(subscribe) 과정후부터 데이터를 전달받기 시작한다. 반면, 옵저버 패턴에서는 Subject와 Observer가 add 과정 후부터 데이터를 전달받기 시작한다.
- 옵저버 패턴은 종료시점, 에러시점에 대한 인터페이스가 존재하지 않았지만 RxJS에서는 종료를 나타내는 complete 메소드와 에러시점을 나타내는 error 메소드를 추가하였다.
- 객체는 상태를 가질 수 있다. 객체가 상태를 가진다는 의미는 또 다른 상태 머신이 될 수 있다는 의미이기도 하다. 반면 함수는 상태가 존재하지 않는 기능만을 담당하기 때문에 상태에 관한 문제에서는 보다 자유롭다.
- Observable은 subscribe를 통해 데이터를 전달할 대상에게 데이터를 전달할 수는 있찌만, 반대로 전달할 대상으로부터 데이터를 전달받을 수는 없다. 즉, 데이터는 한 방향으로만 흐르게 된다. 이렇게 한 근본적인 이유는 데이터 흐름을 단순화함으로 복잡도를 낮추고 오류 발생 빈도를 줄이기 위해서이다. 데이터가 양방향으로 흐르게 되면 사용상 편리할 수는 있다. 하지만 애플리케이션의 규모가 커지면 양방향으로 흐르는 데이터의 복잡도는 통제하기 어려울 정도록 복잡해진다.
