# 11. 객체의 변경 권한

- 우리가 접근할 수 있는 객체는 모두 수정할 수 있습니다.
- 개발자가 정의한 객체이든 기본 실행 환경의 일부분이든 접근할 수만 있으면 모두 변경할 수 있습니다.

## 변경 권한이 있는 객체란?

- 코드를 직접 작성했다면 당연히 자기 소유의 객체로써 변경 권한이 있습니다. 또 직접 작성하지 않더라도 유지보수를 맡고 있다면 이 역시 변경 권한이 있는 객체 입니다.
- 다음 목록을 포함해서 직접 정의하지 않은 객체는 수정하면 안 됩니다.
  - 네이티브 객체(Object, Array 등등)
  - DOM 객체(예: document)
  - 브라우저 객체 모델(BOM) 객체(예: window 객체)
  - 라이브러리 객체
- 이 객체는 프로젝트 실행 환경에 관련된 객체입니다. 기존에 있던 기능이든 새로 제공하는 기능이든 객체를 있는 그래로 사용해야지 변경하면 안 됩니다.

## 객체 변경 금지 규칙

- 유지보수가 중요한 엔터프라이즈 소프트웨어는 일관되고 신뢰할 수 있는 실행 환경이 필수적입니다.
- 이제 다음 규칙에 따라 자바스크립트 객체도 다른 언어에서처럼 유틸리티 라이브러리로 다뤄야 합니다.
  - 메서드를 오버라이드하지 않는다.
  - 새로운 메서드를 추가하지 않는다.
  - 디존 메서드를 삭제하지 않는다.

### 메서드 오버라이드 금지

- 자신이 소유하지 않은 객체의 메서드를 오버라이드하는 것은 자바스크립트에서 매우 나쁜 개발 습관입니다.

### 새운 메서드 추가 금지

- 자바스크립트에서 기존 객체에 새로운 메서드를 추가히각 굉장히 쉽습니다. 기존 객체에 새로운 메서드를 추가하려면 함수를 할당하기만 하면 되는데 이 방버븡로 모든 객체를 변경할 수 있습니다.
- 소유하지 않은 객체에 메서드를 추가할 때 생기는 가장 큰 문제는 이름 충돌 입니다. 단지 현재 메서드가 없다고 해서 앞으로도 같은 이름의 메서드가 없으리라고는 보장할 수 없습니다.
- 설상가상으로 나중에 우리가 임의로 추가한 메서드와 네이티브 메서드가 이름만 같고 동작이 다르면 유지보수의 악몽이 시작됩니다.
- 많은 자바스크립트 라이브러리가 플러그인 아키텍처로 구현되어 있어 라이브러리에 새로운 기능을 안전하게 추가할 수 있습니다. 라이브러리를 수정해야 한다면 플러그인을 만든느 편이 유지보수 측면에서 가장 좋습니다.

### 메서드 삭제 금지

- 자바스크립트에서 메서드를 제거하는 건 메서드를 추가하는 것처럼 쉽습니다.
- 물론 메서드를 오버라이드하는 것도 기존 메서드를 제거하는 것이라 볼 수 있습니다.
- 메서드 이름에 null을 할당하면 메서드를 가장 간편히 제거할 수 있습니다.
- 그러나 null을 할당하면 메서드가 어떤 방식으로 정의됐는지에 상관없이 호출할 수 없게 됩니다.
- 메서드가 객체의 프로토타입이 아닌 객체의 인스턴스에 정의되었다면 delete 연산자로 제거 할 수 있습니다.
- 기존 메서드를 삭제하는 일은 분명히 나쁜 습관입니다. 삭제하려는 메서드를 즐겨 사용ㅇ하는 개발자가 있을 수도 있고 기존 코드에서 그 메서드를 사용하고 있을 수도 있습니다. 게다가 메서드를 삭제하면 런타입 에러가 발생할 수 있습니다.
- 만약 팀에서 특정 메서드 사용을 금지할 거라면 문서화 주석이나 정적 코드 검사를 통해 '더 이상 사용하지 않음(deprecated)'이라고 표시해야 합니다. 그렇더라도, 메서드 삭제는 부가피한 상황에서만 사용하는 극약처방으로 생각해야 합니다.
