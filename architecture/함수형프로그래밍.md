# 함수형 프로그래밍

사이드 이펙트 최대한 줄이고 (부수효과 줄이고)  
모든 값을 불변하게 다루려고하는 페러다임

사이드(부수효과) 이펙트가 없을 순 없다  
외부 세계와 영향을 주고 받는 것(외부 API 요청)  
입력값없이 외부의 값을 변경한다

## 비순수 함수

숨겨진 입력이 있어서 사이드 이펙트가 발생한다.

## 순수 함수

모든 입력이 입력으로 선언되고 (숨겨진 것이 없어야 한다) 마찬가지로 모든 출력이 출력으로 선언된 함수를 ‘순수(pure)’하다고 부른다.

## 함수형 프로그래밍의 컨셉

- 변경 가능한 상태를 불변상태(Immutab)로 만들어 SideEffect를 없애자.
- 모든 것은 객체이다.
- 코드를 간결하게 하고 가독성을 높여 구현할 로직에 집중 시키자.
- 동시성 작업을 보다 쉽게 안전하게 구현 하자.

## 함수형 프로그래밍 언어

함수형 프로그래밍 언어는 부작용없는 프로그래밍을 지원하고 장려하는 언어이다.

## 함수형 프로그래밍의 장점

- 높은 수준의 추상화를 제공한다
- 함수 단위의 코드 재사용이 수월하다
- 불변성을 지향하기 때문에 프로그램의 동작을 예측하기 쉬워진다

## 성능 저하

- 함수형 프로그래밍도 높은 수준의 추상화를 지향하는 패러다임인 만큼 어느 정도 성능 면에서 불리한 점이 있긴 하다. 사실 함수 단위로 프로그램을 추상화하는 개념은 1958년에 LISP가 발표되었을 때부터 시작되었지만, 당시에는 아마 이런 개념이 사치로 느껴졌을 것이다. 메모리가 너무 부족해서 당장 작업 하나 하기도 빡센 데 추상화는 무슨 추상화란 말인가.
- 그러나 요즘 머신의 성능은 함수형 프로그래밍이 지향하는 추상화 레벨을 충분히 커버할 수 있을 정도로 예전에 비해 많이 좋아졌기 때문에 성능에 관한 문제는 크게 중요하지 않다고 느껴진다.

## 그렇다면 객체지향 프로그래밍을 사용하지 않고 함수형 프로그래밍을 사용함으로써 가져갈 수 있는 장점은 무엇일까?

- 물론 여기에도 여러가지 장단점이 있겠지만 필자는 개인적으로 함수 단위의 코드 재사용이 더욱 쉬워진다는 것이 가장 큰 장점이라고 생각한다.
- 더 작게 쪼개어 생각할 수 있다
  - 객체지향패턴에서 객체란 멤버 변수(상태)와 메소드(행위)로 이루어진, 프로그램을 구성하는 최소 단위이기 때문에, 객체지향패턴을 사용할 때 우리는 이 객체보다 더 작은 무언가를 사용하여 프로그램을 설계할 수 없다.

## 다만 자바스크립트는 함수형 프로그래밍에 적합하지 않다는 것도 잘 알려져 있다

- 함수형 프로그래밍에서는 입출력이 완벽히 제한된 순수 함수가 필수이지만, 자바스크립트는 어떤 함수라도 this 때문에 이미 외부 입력이 들어가게 됩니다.
- 값의 불변성(immutable) 역시 보장할 수 없습니다. let과 var 문법은 말그대로 “변수”이기 때문에 불변성을 부여할 수 없습니다. const 역시 객체가 할당되면 변경이 가능하기 때문에 불변성과는 관련이 없습니다. Object.freeze() 를 사용해도 완벽한 immutable 객체를 만드는 것은 불가능합니다.
- 자바스크립트의 객체는 call by reference (정확히는 call by sharing) 특성이 있기 때문에 이 역시 불변성과 어긋나게 됩니다.
- 자바스크립트의 변수는 동적 타이핑이기 때문에 파라메터의 타입에 따라 함수의 결과가 달라지는 것도 문제입니다. 같은 함수라도 변수에 따라 3, “12”를 출력할 수 있다는 것은 함수형 프로그래밍에 있어서 방해가 되는 요소입니다.
- 함수형 프로그래밍을 도입해서 얻을 수 있는 장점은 병렬 컴퓨팅, 즉 요즘 CPU의 추세에 맞는 멀티코어 프로그래밍에 유리하다는 것인데, 솔직히 자바스크립트에 적용하기엔 좀 애매합니다.
