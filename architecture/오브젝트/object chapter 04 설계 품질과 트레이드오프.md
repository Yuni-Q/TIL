# object chapter 04 설계 품질과 트레이드오프

- 객체지향 설계의 핵심은 역할, 책임, 협력입니다.
  - 협력은 애플리케이션의 기능을 구현하기 위해 메시지를 주고받는 객체들 사이의 상호작용입니다.
  - 책임은 객체가 다른 객체와 협력하기 위해 수행하는 행동입니다.
  - 역할은 대체 가능한 책임의 집합입니다.
- 책임 주도 설계라는 이름에서 알 수 있는 것처럼 역할, 책임, 협력 중에서 가장 중요한 것은 '책임'입니다.
- 객체들이 수행할 책임이 적절하게 할당되지 못한 상화에서는 원활한 협력도 기대할 수 없을 것입니다.
- 역할은 책임의 집합이기 때문에 책임이 적적하지 못하면 역할 역시 협력과 조화를 이루지 못합니다.
- 결국 객체지향 애플리케이션 전체의 품질을 결정하는 것입니다.
- 객체지향 설계란 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동입니다.
- 객체지향 설계에 관한 두 가지 관점
  - 첫 번째 관점은 객체지향 설계의 핵심은 책임입니다.
  - 두 번째 관점은 책임을 할당하는 작업이 응집도와 결합도 같은 설계 품질과 깊이 연관돼 있다는 것입니다.
- 설계는 변경을 위해 존재하고 변경에는 어떤 식으로든 비용이 발생합니다.
- 훌륭한 설계란 합리적인 비용 안에서 변경을 수용할 수 있는 구조를 만드는 것입니다.
- 적절한 비용 안에서 쉽게 변경할 수 있는 설계는 응집도가 높고 서로 느슨하게 결합돼 있는 요소로 구성됩니다.
- 결합도와 응집도를 합리적인 수준으로 유지할 수 있는 중요한 원칙이 있습니다. 객체의 상태가 아니라 객체의 행동에 초점을 맞추는 것입니다.
- 객체를 단순한 데이터의 집합으로 바라보는 시각은 객체의 내부 구현을 퍼블릭 인터페이스에 노출시키는 결과를 낳기 때문에 결과적으로 설계가 변경에 취약해집니다. 이런 문제를 피할 수 있는 가장 좋은 방법은 객체의 책임에 초점을 맞추는 것입니다.
- 책임은 객체의 상태에서 행동으로, 나아가 객체와 객체 사이의 상호작용으로 설계 중심을 이동시키고, 결합도가 낮고 응집도가 높으며 구현을 효과적으로 캡슐화하는 객체들을 창조할 수 있는 기반을 제공합니다.

## 01. 데이터 중심의 영화 예매 시스템

- 객체지향 설계에서는 두 가지 방법을 이용해 시스템을 객체로 분리할 수 있습니다.
  - 첫 번째 방법은 상태를 분할의 중심축으로 삼는 방법입니다.
  - 두 번째 방법은 책임을 분할의 중심축으로 삼는 방법 입니다.
- 데이터 중심의 관점에서 객체는 자신이 포함하고 있는 데이터를 조작하는 데 필요한 오퍼레이션을 정의 합니다.
- 책임 중심의 관점에서 객체는 다른 객체가 요청할 수 잇는 오퍼레이션을 위해 필요한 생태를 보관합니다.
- 데이터 중심의 관점은 객체의 상태에 초점을 맞추고 책임 중심의 관점은 객체의 행동에 초점을 맞춥니다.
- 데이터 중심은 객체를 독립된 데이터 덩어리로 바라보고 책임 중심은 객체를 협력하는 공동체의 일월으로 바라봅니다.
- 훌륭한 객체지향 설계는 데이터가 아니라 책임에 초점을 맞춰야 합니다. 이유는 변경과 관련이 있습니다.
- 객체의 상태는 구현에 속합니다. 구현은 불안정하기 때문에 변하기 쉽습니다. 상태를 객체 분할의 중심축으로 삼으면 구현에 관한 세부사항이 객체의 인터페이스에 스며들게 되어 캡슐화의 원칙이 무너집니다. 결과적으로 상태 변경은 인터페이스의 변경을 초래하며 이 인터페이스에 의존하는 모든 객체에게 변경의 영향이 퍼지게 됩니다. 따라서 데이터에 초점을 맞추는 설계는 변경에 취약할 수밖에 없습니다.
- 객체의 책임은 인터페이스에 속합니다. 객체는 책임을 드러내는
