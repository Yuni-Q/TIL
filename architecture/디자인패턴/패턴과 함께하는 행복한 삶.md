# 패턴과 함께하는 행복한 삶

## 디자인 패턴과 함께하는 행복한 삶을 위한 객체마을 공식 가이드

- 널리 퍼져 있는 '디자인패턴'의 정의 대한 오해에 대해서 확실히 파악하고 넘어갑시다.
- 디자인 패턴 카타로그에 대해 알아보고, 그런 카탈로그의 필요성을 제대로 파악하도록 합시다.
- 적절한 시기에 디자인 패턴을 사용하도록 합시다.
- 패턴을 제 범주에 맞게 사용하도록 합시다.
- 패턴을 발견하는 것은 고수들만이 할 수 있는 일이 아닙니다. 간단한 설명을 읽어보고 나면 여러분도 패턴을 만들어낼 수 있을 것입니다.
- 미스터리에 싸여 있던 4인방(GoF, Gang of Four)의 실체가 드러납니다. 놓치지 마세요.
- 대세를 따릅시다. - 패턴을 사용하는 사람이라면 반드시 가지고 있어야 할 책들을 소개해 드리겠습니다.
- 도사님으로부터 정신 수양버을 배웁시다.
- 패턴과 관련된 다양한 용어를 많이 익혀서 친구들 및 다른 개발자들에게 깊은 인상을 심어 줍시다.

## 디자인 패턴의 정의

- 패턴이란 특정 컨텍스트 내에서 주어진 문제에 대한 해결책이다.
  - 컨텍스트(context)란 패턴이 적용되는 상황을 뜻합니다. 반복적으로 일어날 수 있는 상황이어야만 합니다.
  - 문제(problem)란 컨텍스트 내에서 이루고자 하는 목적을 뜻합니다. 하지만 컨텍스츠 내에서 생길 수 있는 제약조건도 문제에 포함됩니다.
  - 해결책(solution)이 바로 우리가 찾아내야 하는 것입니다. 누구든지 적용해서 일련의 제약조건 내에서 목적을 달성하 수 있는 일반적인 디자인을 뜻합니다.
- 어떤 컨텍스트 내에서 일련의 제약조건에 의해 영향을 받을 수 있는 문제에 봉착했다면, 그 제약조건 내에서 목적을 달성하기 위한 해결책을 찾아낼 수 있는 디자인을 적용하면 된다.

## 포스가 함께 하기를

- 디자인 패턴의 정의에 따르면 문제는 목적과 일련의 제약조건으로 구성됩니다. 그런데 패턴 전문가들 중에서 이를 합쳐서 포스(force)라고 부르는 사람들도 있습니다. 왜 이렇게 부를까요? 뭐 나름대로 이유가 있겠지만, 영화 스타워즈에 의하면 포스란 '우즈를 형상하고 제어하는 것'이라고 합니다. 패턴의 정의에서 포스란 해결책을 형성하고 제어하는 것인 셈이죠. 해결책이 포스의 양면(밝은 면이라고 할 수 있는 목적과 어두운 면이라고 할 수 있는 제약조건) 사잉에서 균형을 이룰 수 있어야 비로소 제대로 된 패턴이 만들어지는 것입니다. 사람들이 패턴에 대해서 이야기할 때 쓰는 '포스'라는 용어는 처음에는 꽤 이해하기 힘들 수도 있습니다. 하지만 포스에는 두가지 측면(목적과 제약조건)이 있다느 점, 그리고 그 둘 사이에서 적절하게 균형을 잡아야만 패턴의 해결책이 완성된다는 점만 잘 기억해 두면 됩니다. 용어 때문에 괜히 고생하는 일이 없기를 바라겠습니다.

## 디자인 패턴 분류하기

- 생성 관련 패턴(creational pattern)은 객체 인스턴스 생성을 위한 패턴으로, 클라이언트와 그 클라이언트에서 생성해야 할 객체 인스턴스 사이의 연결을 끊어주는 패턴입니다.
  - 싱글턴, 빌더, 프로토타입, 추상 팩토리, 팩토리 메소드
- 행동 관련 패턴(Behavioral Pattern)은 클래스와 객체들이 상호작용하는 방법 및 역할을 분담하는 방법과 관련된 패턴입니다.
  - 템플릿 메소드, 인터프리터, 역할 변경, 비지터, 커맨드, 스트래티지, 미디에이터, 이터레이터, 메멘토, 옵저버, 스테이트
- 구조 관련 패턴(Structural pattern)은 클래스 및 객체들을 구성을 통해서 더 큰 구조로 만들 수 있게 해 주는 것과 관련된 패턴입니다.
  - 데코레이터, 플라이웨이트, 컴포지트, 어댑터, 프록시, 퍼사드, 브리지

## 디자인 패턴 분류하기2

- 클래스 패턴(Class pattern)에서는 클래스 사이의 관계가 상속을 통해서 어떤 식으로 정의되는지를 다룹니다. 클래스 패턴에서는 컴파일시에 관계가 결정됩니다.
  - 템플릿 메소드, 팩토리 메소드, 어댑터, 인터프리터
- 객체 패턴(Object patterns)에서는 객체 사이의 관계를 다루며, 객체 상이의 관계는 보통 구성을 통해서 정의 됩니다. 객체 패턴에서는 일반적으로 실행 중에 관계가 생성되기 때문에 더 동적이고 유연 합니다.
  - 컴포지트, 데코레이터, 프록시, 스트래티지, 브리지, 클라이웨이트, 추상팩토리, 퍼사드, 역할 사슬, 미디에이터, 비지터, 커맨드, 프로토타입, 싱클턴, 빌더, 스테이트, 옵저버, 메멘토, 이터레이터

## 패턴으로 생각하기

- 최대한 단순하게(KISS-Keep it Simple)
- 디자인 패턴은 만병 통치약이 아닙니다.
- 패턴을 도입하는 것은 다지인을 하는 단계에서만 고려해야 하는 일은 아닙니다. 나중에 리팩터링을 할 때도 패턴을 도입하는 걸 고려해보는 것이 좋습니다.
- 꼭 필요하지 않은 것은 빼 버립시다. 지금 있는 디자인에서 디자인 패턴을 제거하는 것을 두려워하지 마세요.
- 꼭 필요하지 않은 것을 미리 할 필요는 없습니다.

## 패턴 동물원

- 건축 패턴(Architectural Patterns)은 생동감 있는 건물, 마을, 도시를 만들기 위한 용도로 쓰입니다. 패턴이라는 개념은 여기에서 처음으로 만들어졌습니다.
  - 서식지 : 멋진 건물에서 종종 발견 됩니다.
- 애플리케이션 패턴(Application Patterns)은 시스템 수준의 아키텍처를 만들기 위한 패턴입니다. 다양한 다단계 아키텍처가 여기에 속합니다.
  - 서식지 : 3단계(3-tier) 아키텍처, 클라이언트 시스템, 웹 등에서 종종 발견 됩니다.
  - 참고 : MVC는 애플리케이션 패턴을 통과한 것으로 알려져 있습니다.
- 특정 영역용 패턴(Domain-Specific Patterns)은 컨커런트 시스템이라든가 실시간 시스템과 같은 특정 영역에 국한된 문제와 관련된 패턴입니다.
  - 서식지를 찾아 주세요 J2EE
- 비즈니스 프로세스 패턴(Business Process Patterns)은 비즈니스, 고객, 데이터 사이의 상호작용을 기술하기 위한 것으로, 어떻게 하면 효과적으로 의사 결정을 하고 의사소통을 할 수 있을까 하는 등의 문제에 적용할 수 있습니다.
  - 기업 이사실 및 프로젝트 관리 회의 등에서 볼 수 있습니다.
- 조직 패턴(Organizational Patterns)은 인간 조직의 구조 및 운영을 기술하기 위한 패턴입니다. 주로 소프트웨어 제작/지원을 위한 조직에 초점이 맞춰졌습니다.
  - 서식지를 찾아주세요. 개발부, 고객 지원부
- 사용자 인터페이스 디자인 패턴(User Interface Design Patterns) 사용자들이 직접 다루게 되는 소프트웨어 프로그램을 디자인하는 것과 관련된 문제를 위한 패턴
  - 서식지 : 비디오 게임 디자이너, GUI 구축 및 제작자 근방에서 자주 발견됩니다.

## 사악한 안티 패턴 섬멸하기

- 안티패턴은 어떤 문제에 대한 나쁜 해결책에 이르는 길을 알려 줍니다.
- 안티 패턴에서는 어떤 이유로 나쁜 해결책에 유혹될 수 있는지를 알려줍니다.
- 안티 패턴은 장기적인 관점에서 그 해결책이 나쁜 이유를 알려줍니다.
- 안티 패턴에서는 좋은 해결책을 만들어 내기 위해 적용할 수 있는 다른 패턴을 제안해 줍니다.

## 디자인 도구상자 안에 들어가야 할 도구들

### 핵심 정리

- 디자인 패턴이 자연스럽게 나올 수 있도록 합시다. 패턴은 억지로 적용하면 안 됩니다.
- 디자인 패턴은 돌에 새겨진 글씨가 아닙니다. 필요에 따라 적당히 변형시켜서 사용합시다.
- 주어진 조건을 만족시키는 가장 간단한 해결책을 사용합시다. 디자인 패턴을 꼭 써야 하는 건 아닙니다.
- 디자인 패턴 카탈로그를 읽어보고 패턴을 숙지합시다. 패턴들 사이의 관계에 대해서도 확실히 이해해야 합니다.
- 패턴을 (범주에 따라서) 분류하여 패턴 그룹을 만들 수 있습니다. 그룹으로 나누는 것이 도움이 된다면 적극적으로 활용해 보세요.
- 패턴 작가가 되려면 대단한 노력이 필요합니다. 끈기 있게 오랜 시간에 걸쳐서 끊임 없이 다듬어야 합니다.
- 여러분이 접할 패턴은 대부분 새로운 패턴이 아니고 기존 패턴을 응용한 것입니다.
- 주변 사람들과 전용 용어를 공유합시다. 공통의 언어로 얘기 할 수 있다는 것은 패턴의 가자 큰 장점 가운데 하나입니다.
- 다른 커뮤니티와 마찬가지로 패턴 커뮤니티에서도 그 안에서만 쓰이는 용어들이 있습니다. 그런 용어들 때문에 주눅 들지 마세요. 이 책을 다 읽었다면 아마 대부분 이해할 수 있을 것입니다.
