# 17장 냄새와 휴리스틱

## 주석

### C1: 부적절한 정보

- 다른 시스템에 (예를 들어, 소스 코드 관리 시스템, 버그 추적 시스템，이슈 추적 시스템, 기타 기록 관리 시스템에) 저장할 정보는 주석으로 적절하지 못합니다.
- 일반적으로 작성자, 최종수정일, SPR(Software Prablem Report)번호 등과 같은 메타 정보만 주석으로 넣습니다.
- 주석은 코드와 설계에 기술적인 설명을 부연하는 수단입니다.

### C2: 쓸모 없는 주석

- 오래된 주석, 엉뚱한 주석, 잘못된 주석은 더 이상 쓸모가 없습니다.
- 주석은 빨리 낡습니다.
- 쓸모 없어질 주석은 아예 달지 않는 편이 가장 좋습니다.
- 쓸모 없어진 주석은 재빨리 삭제하는 편이 가장 좋습니다.
- 쓸모 없는 주석은 일단 들어가고 나면 코드에서 쉽게 멀어집니다. 코드와 무관하게 혼자서 따로 놀며 코드를 그릇된 방향으로 이끕니다.

### C3: 중복된 주석

- 코드만으로 충분한데 구구절절 설명하는 주석이 중복된 주석입니다.
- 주석은 코드만으로 다하지 못하는 설명을 부언합니다.

### C4: 성의 없는 주석

- 작성할 가치가 있는 주석은 잘 작성할 가치도 있습니다.
- 주석을 남길거라면 시간을 들여 최대한 멋지게 작성 합니다.
- 단어를 신중하게 선택하고 문법과 구두점을 올 바로 사용합니다.
- 주절대지 않습니다. 당연한 소리를 반복하지 않습니다. 간결하고 명료하게 작성합니다.

### C5: 주석 처리된 코드

- 얼마나 오래된 코드인지, 중요한 코드인지 아닌지 알 길이 없습니다. 그럼에도 아무도 삭제하지 않습니다 누군가에게 필요하거나 다른 사람이 사용할 코드라 생각하기 때문입니다.
- 주석 으로 처리된 코드는 흉물 그 자체입니다.
- 주석으로 처리된 코드를 발견하면 즉각 지웁니다. 걱정할 필요는 없습니다. 소스 코드 관리 시스템이 기억합니다. 누군가 정말로 필요하다면 이전 버전을 가져오면 됩니다.

## 환경

### E1: 여러 단계로 빌드하는 것

- 빌드는 간단히 한 단계로 끝나야 합니다.
- 소스 코드 관리 시스템에서 이것저것 따로따로 체크아웃할 필요가 없어야 합니다.
- 불가해한 명령이나 스크립트를 잇달아 실행해 각 요소를 따로 빌드할 필요가 없어야 합니다.
- 온갖 파일, 기타 시스템에 필요한 파일을 찾느라 여기저기 뒤적일 필요가 없어야 합니다.
- 한 명령으로 전체를 체크아웃해서 한 명령으로 빌드할 수 있어야 합니다.

### E2: 여러 단계로 테스트하는 것

- 모든 단위 테스트는 한 명령으로 돌려야 합니다.
- IDE에서 버튼 하나로 모든 테스트를 돌린다면 가장 이상적입니다.
- 아무리 열악한 환경이라도 셀에서 명령 하나로 가능해야 합니다.
- 모든 테스트를 한 번에 실행하는 능력은 아주 근본적이고 아주 중요합니다. 따라서 그 방법이 빠르고, 쉽고,명백해야 합니다.

## 함수

### F1: 너무 많은 인수

- 함수에서 인수 개수는 작을수록 좋습니다.
- 아예 없으면 가장 좋습니다.
- 다음으로 하나, 둘, 셋이 차례로 좋습니다. 넷 이상은 그 가치가 아주 의심스러우므로 최대한 피합니다.

### F2: 출력 인수

- 출력 인수는 직관을 정면으로 위배합니다.
- 일반적으로 독자는 인수를 (출력이 아니라) 입력으로 간주합니다.
- 함수에서 뭔가의 상태를 변경해야 한다면 (출력 인수를 쓰지 말고) 함수가 속한 객체의 상태를 변경합니다.

### F3: 플래그 인수

- boolean 인수는 함수가 여러 기능을 수행한다는 명백한 증거 입니다.
- 플래그 인수는 혼란을 초래하므로 피해야 합니다.

### F4: 죽은 함수

- 아무도 호출하지 않는 함수는 삭제 합니다. 죽은 코드는 낭비 입니다. 과감히 삭제합니다.
- 소스 코드 관리 시스템이 모두 기억하므로 걱정할 필요 없습니다.

## 일반

### G1: 한 소스 파일에 여러 언어를 사용 하는 것

- 이상적으로는 소스 파일 하나에 언어 하나만 사용하는 방식이 가장 좋습니다. 현실적으로는 여러 언어가 불가피 합니다. 하지만 각별한 노력을 기울여 소스 파일에서 언어 수와 범위를 최대한 줄이도록 애써야 합니다.

### G2: 당연한 동작을 구현하지 않는 것

- 최소 놀람의 원칙(The Principleof Least Surprise)에 의거해 함수나 클래스는 다른 프로그래머가 당연하게 여길 만한 동작과 기능을 제공해야 합니다.

### G3: 경계를 올바로 처리하지 않는 것

- 올바른 동작이 아주 복잡하다는 사실을 자주 간과합니다. 흔히 개발자들은 머릿속에서 코 드를 돌려보고 끝낸다. 자신의 직관에 의존할 뿐 모든 경계와 구석진 곳에서 코 드를 증명하려 애쓰지 않는다.
  부지런함을 대신할 지름길은 없다. 모든 경계 조건，모든 구석진 곳, 모든 기 벽奇癖，모든 예외는 우아하고 직관적인 알고리즘을 좌초시킬 암초다. 스스로의 직관에 의존하지 마라. 모든 경계 조건을 찾아내고，모든 경계 조건을 테스트하 는 테스트 케이스를 작성하라.
