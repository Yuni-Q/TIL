
# 인프라 아키텍터를 살펴보자

## 인프라
기반이란 뜻으로, 생활을 지탱하는 바탕이나 토대란 의미입니다.  
인프라 구조 자체는 복잡하지만, 전문가에 의해 관리되고 있어서 사용자는 그 구조를 이해하지 않고도 간단히 이용할 수 있다는 특징이 있습니다.  

## 인프라 아키텍쳐
아키텍처란 구조라는 의미 입니다.  
인프라 아키텍쳐는 IT 인프라의 구조를 의미입니다.  

## 집약형과 분할형 아키텍처

### 집약형 아키텍처
하나의 컴퓨터로 모든 처리를 하기 때문에 집약형이라고 할 수 있습니다.  

#### 장점
- 한 대의 대형 컴퓨터만 있으면 되므로 구성이 간단하다.
- 대형 컴퓨터의 리소스 관리나 이중화에 의해 안전성이 높고 고성능이다.

#### 단점
- 대형 컴퓨터의 도입 비용과 유지 비용이 크다.
- 확장성에 한계가 있다.

### 분할형 아키텍쳐 
여러 대의 컴퓨터를 조합해서 하나의 시스템을 구축하는 구조다.  
분할 형 아키텍처는 표준 OS나 개발 언어를 이용하기 때문에 오픈 시스템이라고도 부른다.  
또, 여러대의 컴퓨터를 연결해 이용하기 때문에 분사 시스템이라고 부르는 경우도 있다.  

#### 장점
- 낮은 비용으로 시스템을 구축할 수 있다.
- 서버 대수를 늘릴 수 있어서 확장성이 높다.

#### 단점
- 대수가 늘어나면 관리 구조가 복잡해 진다.
- 한 대가 망가지면 영향 범위를 최소화 하기 위한 구조를 검토해야 한다.

#### 물리 서버와 논리 서버의 차이
서버라는 용어는 컴퓨터 자체(하드웨어)를 가리키는 경우도 있고, 컴퓨터에서 동작하고 있는 소프트웨어를 가르키는 경우도 있다.  
컴퓨터 자체를 가리키는 경우는 물리 서버라고 부른다.  
논리 서버는 웹서버, DB서버 등 서버에서 동작하는 소프트웨어 이다.  

### 수직 분할향 아키텍쳐
서버 분할 방식이다.  
각각의 서버가 전혀 다른 작업을 하는 것인지, 아니면 비슷한 작업을 하는 것인지에 대한 관점이다.  
특정 서버 측면에서 봤을 때 역할에 따라 위 또는 아래 계층으로 나뉘기 때문이다.  

#### 클라이언트 - 서버형 아키텍쳐 (C/S)
클라이언트 측에 전용 소프트웨어를 설치해야 한다.  

##### 장점
- 클라이언트 측에서 많은 처리를 실행할 수 있어서 소수의 서버로 다수의 클라이언트를 처리할 수 있다.

##### 단점
- 클라이언트 측의 소프트웨어 정기 업데이트가 필요하다.
- 서버 확장성에 한계가 발생할 수 있다.

#### 3계층형 아키텍처
수직 분할형의 한 예이다.  
클라이언트 - 서버형을 발전 시킨 것이다.  
프레젠테이션 계층 / 애플리케이션 계층 / 데이터 계층  

##### 프레젠테이션 계층
- 사용자 입력을 받는다
- 웹 브라우저 화면을 표시한다

##### 애플리케이션 계층
- 사용자 요청에 따라 업무 처리를 한다.  

##### 데이터 계층
- 애플리케이션 계층의 요청에 따라 데이터를 입출력 한다.

##### 장점
- 서버 부하 집중 개선
- 클라이언트 단말의 정기 업데이트가 불필요
- 처리 반환에 의한 서버 부하 저감

##### 단점
- 구조가 클라이언트 - 서버 구성보다 복잡하다.

### 수평 분할형 아키텍쳐
용도가 같은 서버를 늘려가는 방식이다.  
서버 대수가 늘어나면 한 대가 시스템에 주는 영향력이 낮아져서 안정성이 향상 된다.  
또한, 처리를 담당하는 서버 대수가 늘어나면  전체적인 성능 향상도 실현할 수 있다.  
수직 분할형과 수평 분할형은 배타적인 관계각 아니며 대부분의 시스템이 이 두 가지 방식을 함께 채택하고 있다.  

#### 단순 수평 분할 아키텍처
수평 분할을 샤딩이나 파티셔닝이라 부르기도 한다.  

##### 장점
- 수평으로 서버를 늘리기 때문에 확장성이 향상 된다.
- 분할한 시스템이 독립적으로 운영되므로 서로 영향을 주지 않는다.

##### 단점
- 데이터를 일원화해서 볼 수 없다.
- 애플리케이션 업데이트는 양쪽을 동시에 해 주어야 한다.
- 처리량이 균등하게 분할돼 있지 않으면 서버별 처리량에 치우침이 생긴다.

#### 공유형 아키텍처
단순 분리형과 달리 일부 계층에서 상호 접속이 이루어진다.  

##### 장점
- 수평으로 서버를 늘리기 때문에 확장성이 향상 된다.
- 분할한 시스템이 서로 다른 시스템의 데이터를 참조할 수 있다.

##### 단점
- 분할한 시스템 간 독립성이 낮아진다.
- 공유한 계층의 확장성이 낮아진다.

### 가상화 진행 사항
집약형과 분할형 양쪽의 장점을 취하는 접근법이 가상화다.  
물리 서버를 기능으로 여러 대의 가상 서버로 분할 하는 방식이다.  
물리 서버가 두 대이기 때문에 안정성이 높다.  
다른 한가지는 가상 서버를 다른 환경으로 옮기기가 쉬워서 물리 서버 성능이 한계에 이르더라도 확장성을 보장할 수 있다는 것이다.  
현재는 대부분의 기업형 업무 시스템이 이런 가상화 구성을 채택하고 있다.  

### 지리 분할형 아키텍처
업무 연속성 및 시스템 가용성을 높이기 위한 방식으로 지리적으로 분할하는 아키텍처이다.  
스탠바이 구성, HA(High Avilbility) 구성, 액티브-스탠바이 구성 등으로 불리는 형태 입니다.  
물리 서버를 최소 두 대를 준비하여 한대가 고장 나면 가동 중인 소프트웨어를 다른 한대로 옮겨서 운영하는 방식이다.  
이 때 소프트웨어 재시작을 자동으로 하는 구조를 페일오버(failover)라고 한다.(F/O라고 부르기도 한다)  
리소스 측면에서 낭비가 발생한다.  
이 문제를 해결하기 위해 스탠바이를 따로 두지 않고, 양쪽 서버를 교차 이용(한쪽이 고장 나면 다른 한쪽이 양쪽을 처리)하는 경우도 많다.  
물리 서버가 아닌 가상화 서버를 이용하는 경우는 서버 상의 소프트웨어뿐만 아니라 가상 서버별로 다른 물리 서버에 페일오버하는 방식도 선택이 될 수 있다.  

### 재해 대책형 아키텍처
특정 데이터 센터(사이트)에 상용 환경에 고장이 발생하면 다른 사이트에 있는 재해 대책 환경에서 업무를 처리를 재개하는 것을 가리킨다.  

### 클라우드형 아키텍처
3계층형 시스템의 일부 또는 전부가 클라우드 서비스 제공자가 보유하고 있는 물리 서버에서 동작한다.  
대부분의 가상화 기술에서는 서버가 가상적인 존재로 동작한다.  
클라우드 세계에서는 어떤 계층을 클라우드 상에 배칠하는가에ㅐ 따라 명칭이 달라진다.  

#### SaaS(Software as a Service)
서버뿐만 아니라 애플리케이션을 포함한 업무 시스템을 클라우드 서비스 회사가 제공하기 때문에 사용자는 인프라르 의식할 필요가 없다.  

#### PaaS(Platform as a Service), IaaS(Infrastructure as a Service), DBaaS(Databade as a Service) 등
일반적인 3계층형 시스템을 구성하는 서버의 일부 혹은 전부를 클라우드 상의 리소스로 대체한다.  
이 방식을 이용하면 인프라 설계자는 인프라를 의식해서 그 장점과 단점을 고려한 설계를 해야한다.  
양쪽의 잠정만 가져와서 사내 특정 부서에서는 사내 클라우드를 구성하고 사내 각 업무 시스템에는 PaaS/IaaS/DBaaS 형태로 제공하는 경우도 있다.  

---
참조 : [그림으로 공부하는 IT 인프라 구조](https://book.naver.com/bookdb/book_detail.nhn?bid=9252940)
